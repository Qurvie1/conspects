Часто ставится задача представить матрицу в виде произведения двух других матриц, которые обладают какими-то хорошими свойствами (часто полезно в машинном обучении).

Есть матрица $A$ - невырождена.
$A = QR$, где $Q$ - [[Ортогональные векторы|ортогональная матрица]], $R$ - верхнетреугольная матрица (матрица перехода в [[Процесс ортогонализации Грама-Шмидта|ортогонализации]]).

Пусть $A$ - какая-то матрица перехода.

Решим задачу $N3$.

$A = \begin{pmatrix}2 & 0 & 1 \\ 2 & 4 & -1 \\ -1 & 2 & 3\end{pmatrix}$ - невырождена, представим, что это матрица перехода.
$$
\begin{pmatrix}1  \\ 0 \\ 0\end{pmatrix}, \begin{pmatrix}0 \\ 1 \\ 0\end{pmatrix}, \begin{pmatrix}0 \\ 0 \\ 1\end{pmatrix} \implies \begin{pmatrix}2 \\ 2 \\ -1\end{pmatrix}, \begin{pmatrix}0 \\ 4 \\ 2\end{pmatrix}, \begin{pmatrix}1 \\ -1 \\ 3\end{pmatrix}
$$
То есть вообще это происходит в 2 этапа, сначала мы переходим к какому-то базису и от него уже к этому.

Причём первый переход - ортогональный, а потом из него мы переходим в этот базис (матрица $R$).

Тогда применив к правому базису [[Процесс ортогонализации Грама-Шмидта|ортогонализацию]], то мы можем получить $b_{1}, b_{2}, b_{3}$ такие, что эта матрица и будет верхнетреугольной, потом отнормируем и получим $Q$.

Ортогонализуем.
$$b_{1} = a_{1} = \begin{pmatrix}2 \\ 2 \\ -1\end{pmatrix}$$
$$b_{2} = a_{2} - \frac{(a_{2}, b_{1})}{(b_{1},b_{1})}b_{1} = \begin{pmatrix}0 \\ 4 \\ 2\end{pmatrix} - \frac{6}{9}\begin{pmatrix}2 \\ 2 \\ -1\end{pmatrix} = \frac{1}{3}\begin{pmatrix}-4 \\ 8 \\ 8\end{pmatrix}$$
$$b_{3} = a_{3} - \frac{(a_{3}, b_{1})}{(b_{1}, b_{1})}b_{1} - \frac{(a_{3}, b_{2})}{(b_{2}, b_{2})}b_{2} = \begin{pmatrix}1 \\ -1 \\ 3\end{pmatrix} + \frac{3}{9}\begin{pmatrix}2 \\ 2 \\ -1\end{pmatrix} - \frac{3}{9}\begin{pmatrix}-1 \\ 2 \\ 2\end{pmatrix} = \begin{pmatrix}2 \\ -1 \\ 2\end{pmatrix}$$
Нормируем

Тогда полученный базис будет ортонормированный, к которому пришли в результате ортогонализации (то есть между ОНБ).

Тогда матрица перехода - это матрица $Q$

$Q = \frac{1}{3}\begin{pmatrix}2 & -1 & 2 \\ 2 & 2 & -1 \\ -1 & 2 & 2\end{pmatrix}$

Можно посчитать $R = AQ^{-1}$

Но мы делали ортогонализацию, а мы переходим от $b$ к $a$, поэтому столбцы матрицы перехода - это координаты $a$ в базисе $b$.

$a_{1} = b_{1} = 3e_{1}$ ($e$ - это ОНБ куда мы перешли).

$a_{2} = \frac{2}{3}b_{1} + b_{2} = 2e_{1} + 4e_{2}$

$a_{3} = -\frac{1}{3}b_{1} + \frac{1}{3}b_{2} + b_{3} = -e_{1} + 2e_{2} + 3e_{3}$

Теперь записываем:

$R = \begin{pmatrix}3 & 2 & -1 \\ 0 & 4 & 2 \\ 0 & 0 & 3\end{pmatrix}$
