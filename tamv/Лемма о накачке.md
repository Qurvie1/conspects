Пусть $L$ - [[Регулярные языки и выражения|регулярный язык]].

Его распознает [[Детерминированные конечные автоматы|ДКА]] A, в нём $n = |Q|$

Предположим, что в $L$ существует слово $w \in L$, $|w| \geq n$.

$W_{i}$ - префикс $w$ длины $i$. 

$W_{0}, W_{1}, ..., W_{n}$ - префикс $w$ длины $i$.

$q_{i} = \delta^{*}(s, w_{i})$

Тогда
$$
W_{i}, W_{j}, i < j: W_{j} = W_{i}y
$$
Где $y$ - зацикливающее слово, то есть $q_{i} = q_{j}$

В таком случае:
$$
W = W_{i}yz
$$
$$
\delta^{*}(s, w) \in F
$$
$$
\delta^{*}(\delta^{*}(s, w_{i}), yz) = \delta^{*}(q_{i}, yz) 
$$
$$
\delta^{*}(\delta^{*}(s, w_{i}y), z) = \delta^{*}(q_{j}, z) = \delta^{*}(q_{i}, z)
$$
То есть если у нас есть цикл, то по сути мы можем сколько угодно игреков взять и продолжить циклиться, тогда всё будет хорошо. То есть сколько угодно мы циклов мы не возьмём, мы всегда будем попадать в одно и то же.
То есть если мы из-за циклов приходим не в то же самое, то всё плохо (это типа необходимое условие).

Формально:
$L$ - регулярный $\implies$
$$
\exists n \in N, \forall w \in \Sigma^{*} (|w| \geq n \implies \exists x, y, z\in \Sigma^{*} (w = xyz \cap |y| \geq 1 \cap |xy| \leq n \cap \forall j \in N: xyjz \in L))
$$

Докажем, с помощью леммы о прокачке, что язык не является регулярным:
$$
L_{0} = [0^{n}1^{n}]
$$
Возьмём какое-то $n$, тогда возьмём слово 
$$
0^{n}1^{n} = xyz
$$
Тогда $|xy| \leq n$

Возьмём $x = 0^{k}, y = 0^{j}, где j > 0, k \geq 0$.

Разделяющие суффиксы
Пусть $A$ - ДКА, принимает $L$.

Тогда $x, y \in \Sigma^{*}$, тогда мы имеем, что $\delta^{*}(s, x) = \delta^{*}(s, y)$ 
Поэтому:
$$
\delta^{*}(s, xz) = \delta^{*}(\delta^{*}(s, x), z) = \delta^{*}(\delta^{*}(s, y), z) = \delta^{*}(s, yz)
$$
Если разделяющих суффиксов бесконечно много, то конечных состояний слишком много, что плохо, поскольку ДКА конечен.

Докажем теперь нерегулярность $L_{0}$.

Возьмём например слова $x = 0^{i}$ и $y = 0^{j}$.

Пусть теперь $z = 1^{z}$

Тогда:
$$
xz = 0^{i}1^{i} \in L^{0}
$$
$$
yz = 0^{j}1^{i} \notin L_{0}
$$
То есть если у нас количество нулей сначала не совпадает ($i \ne j$). Тогда чтоб суффиксы давали слово из языка. $z = i = j$ одновременно, чего не может быть.

Поэтому $z$ - это разделяющий суффикс, то есть он разделяет слова между собой.
А поскольку бесконечно много $z$ (счётно), то бесконечно много разделяющих суффиксов, чего не может быть, ведь автомат конечен.

Почему лемма о накачке - это не достаточное условие:
$$
L = [ @ 0^{n}1^{n} | n \in N] \cap (0 + 1)^{*} \cap @@@^{*}(0 + 1)^{*}
$$
Алфавит $[0, 1, @]$

Тогда мы имеем, что этот язык нерегулярный, но лемма о накачке работает.

А вот отрицание леммы о накачке работает.

