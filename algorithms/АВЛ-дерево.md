АВЛ-дерево - сбалансированное дв. дерево поиска - для каждой её вершины высоты двух поддеревьев различаются не более чем на 1.
Для этого существуют вращения - специальные операции, поддерживающие св-ва.
Бывает:
[[Малое левое вращение]]
[[Малое правое вращение]]

]
Утв. AVL-дерево на n вершинах имеет глубину O(log n)
Пусть S(h) - min количество количество вершин в AVL дереве глубины h
S(0) = 0
S(1) = 1
Построим рекуррентное соотношение
S(h) = 1 + S(h - 2) + S(h - 1)
Можно заметить, что это числа фиббоначи - 1
S(h) = Fh+2 - 1
S(h) = O(phi^h)
То есть мы доказали, что если в дереве глубина h, то в ней должно быть >= S(h) вершин. То есть если вершин n, глубина h, то (ну по сути, это обратные функции)
n >= O(phi^h) = cphi^h
log n >= h log chi
h <= log n / log cphi
h = O(log n)

В чём идея: при инсерте величина меняется максимум на 1 (как и при erase)
Тогда нужно разобраться с delta = +- 2
пусть delta = -2
Пусть db = 0 или -1
Тогда нам достаточно левого поворота
Пусть db = 1
2 вращения
a, b, c
левое для ребра b, c
правое для a, b