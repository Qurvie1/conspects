Идея: представим ориентированных граф с выделенными вершинами $s$ и $t$.

И нам нужно передавать водичку из $s$ в $t$.

В графе есть какие-то ориентированные рёбра по которым течёт водичка и на каждом ребре есть пропускная способность (вес) - сколько воды может течь по нему в единицу времени.

И наша задача распределить воду так, чтоб её суммарно перетекало максимум в единицу времени, чтоб как можно больше водички текло из $s$ в $t$ в единицу времени.

Определение. **Сеть** - это ориентированный граф, где выделены вершины $s$ и $t$ и есть весовая функция $c : E \rightarrow Z_{+}$ - это называется **пропускными способностями рёбер (capacity)**.
$s$ - **исток**, $t$ - **сток**.

Ну и по сути мы всегда можем ввести пропускную способность между вершинами ($c$ - если есть ребро, иначе 0).

Определение. **Поток в сети** - это такая $f: V^{2} \rightarrow Z$ такая, что:

1) $\forall (u, v) \in E: f(u, v) \leq c(u, v)$ (поток по ребру $(u, v)$ не больше его пропускной способности).
2) Антисимметричность $\forall (u, v) \in E : f(u, v) = -f(v, u)$
3) $\forall v \in V / s, t : \sum\limits_{u \in V} f(v, u) = 0$ (свойство сохранения потока, то есть в вершине ничего не скапливается и всё должно вытечь).
В таком случае **величина потока**: $|f| = \sum\limits_{v} f(s, v)$
Определение. **Остаточная сеть** пусть $f$ это поток в сети $G$, тогда остаточной сетью $G_{f}$ называется просто сеть после пропускания всего потока. $C_{f}(u, v) = c(u, v) - f(u, v) \geq 0$

При это рёбра с $c_{f}(u, v)$ в остаточную сеть не добавляются.

Оказывается, что $|f| \rightarrow max \iff$ в $G_{f}$ нет пути из $s$ в $t$.

Определение. Пусть $G$ - сеть. Тогда $(S, T)$ называется **разрезом**, если $s \in S, t \in T$, при этом их объединение - это $V$.

Определение. **Величиной разреза** назовём величину $c(S, T)$ такой, что:

$c(S, T) = \sum\limits_{u \in S, u \in T} c(u, v)$
Определение. **Величина потока через разрез** - это величина $f(S, T) = \sum\limits_{u \in S, v \in T} f(u, v)$ (суммирование не capacity, а потоков).

Лемма о величине потока. Если $(S, T)$ - разрез, то $f(S, T) = |f|$

Доказательство. $f(S, T) = f(S, V) - f(S, S)$

Вторая величина очевидно 0, так как там потоки друг друга убивают, если рассматриваем потоки $f(u, v)$ и $f(v, u)$

$f(S, T) = f(S, V) = f(s, V) + f(S / s, V) = |f| + S(S / s, V)$

Но для всех $u$ по свойству о сохранении потока суммарный поток = 0, поэтому это просто $|f|$.

Следствие. Величина любого потока не превосходит величину любого разреза.


